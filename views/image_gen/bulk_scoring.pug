//- views/image_gen/bulk_scoring.pug
extends ../layout

block styles
  style.
    .score-layout{display:flex;flex-direction:column;gap:1.5rem}
    .score-panels{display:grid;gap:1.25rem}
    @media(min-width:768px){.score-panels{grid-template-columns:repeat(2,minmax(0,1fr))}}
    .score-card{background:#0f111a;color:white;border:1px solid #1f222c;border-radius:.75rem;padding:1.25rem;display:flex;flex-direction:column;gap:1rem;min-height:100%}
    .score-card h2{font-size:1rem;margin:0;color:#dbe4ff}
    .score-card img{max-width:100%;border-radius:.75rem;border:1px solid #1f2330;background:#101320}
    .score-meta{font-size:.85rem;color:#adb5bd}
    .actions{display:flex;flex-wrap:wrap;gap:.75rem}
    .status-note{font-size:.85rem;color:#6c757d}

block content
  .container.py-4#scoreRoot(data-job-id=jobId)
    a.text-decoration-none.text-muted(href="/image_gen/bulk") ‚Üê Back to bulk jobs
    .score-layout.mt-2
      div
        h1.h4.mb-1 Scoring
        p.status-note Compare two random outputs. Each vote updates average scores. Reloads automatically after voting.
      .actions
        button#nextPairBtn.btn.btn-outline-secondary.btn-sm(type="button") New pair
        span#scoreStatus.status-note
      .score-panels
        .score-card#leftCard
          h2 Left variation
          img#leftImage(alt="Left preview")
          div.score-meta#leftMeta -
          button#voteLeftBtn.btn.btn-success(type="button") Left is better
        .score-card#rightCard
          h2 Right variation
          img#rightImage(alt="Right preview")
          div.score-meta#rightMeta -
          button#voteRightBtn.btn.btn-success(type="button") Right is better
      .actions
        button#voteTieBtn.btn.btn-outline-primary(type="button") They are equal
        button#skipBtn.btn.btn-outline-secondary(type="button") Skip pair

block script
  script(src="/js/image_gen_bulk_score.js")
