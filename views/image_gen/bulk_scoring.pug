//- views/image_gen/bulk_scoring.pug
extends ../layout

block styles
  style.
    .score-layout{display:flex;flex-direction:column;gap:1.5rem}
    .score-panels{display:grid;gap:1.25rem}
    @media(min-width:768px){.score-panels{grid-template-columns:repeat(2,minmax(0,1fr))}}
    .score-card{background:var(--surface-1);color:var(--text);border:1px solid var(--border);border-radius:1rem;padding:1.25rem;display:flex;flex-direction:column;gap:1rem;min-height:100%;box-shadow:0 18px 40px rgba(0,0,0,0.26)}
    .score-card h2{font-size:1rem;margin:0;color:var(--text)}
    .score-media{background:var(--surface-2);border:1px solid var(--divider);border-radius:.85rem;overflow:hidden;min-height:220px;display:flex;align-items:center;justify-content:center}
    .score-media-el{width:100%;max-height:360px;object-fit:contain;background:var(--surface-1);border:0;display:block}
    .score-media-placeholder{color:var(--text-muted);font-size:.9rem}
    video.score-media-el{background:#000}
    .score-meta{font-size:.85rem;color:var(--text-secondary)}
    .actions{display:flex;flex-wrap:wrap;gap:.75rem}
    .status-note{font-size:.85rem;color:var(--text-muted)}
    .text-soft{color:var(--text-muted)}
block content
  .container.py-4#scoreRoot(data-job-id=jobId)
    a.text-decoration-none.text-soft(href="/image_gen/bulk") Back to bulk jobs
    .score-layout.mt-2
      div
        h1.h4.mb-1 Scoring
        p.status-note Compare two random outputs. Each vote updates average scores. Reloads automatically after voting.
      .actions
        button#nextPairBtn.btn.btn-outline-secondary.btn-sm(type="button") New pair
        span#scoreStatus.status-note
      .score-panels
        .score-card#leftCard
          h2 Left variation
          .score-media#leftMedia
          div.score-meta#leftMeta -
          button#voteLeftBtn.btn.btn-success(type="button") Left is better
        .score-card#rightCard
          h2 Right variation
          .score-media#rightMedia
          div.score-meta#rightMeta -
          button#voteRightBtn.btn.btn-success(type="button") Right is better
      .actions
        button#voteTieBtn.btn.btn-outline-primary(type="button") They are equal
        button#skipBtn.btn.btn-outline-secondary(type="button") Skip pair

block script
  script(src="/js/image_gen_bulk_score.js")
