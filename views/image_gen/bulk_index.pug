//- views/image_gen/bulk_index.pug
extends ../layout

block styles
  style.
    .bulk-card{background:var(--surface-1);color:var(--text);border:1px solid var(--border);border-radius:1rem;padding:1.5rem;margin-bottom:1.25rem;box-shadow:0 20px 48px rgba(0,0,0,0.28);transition:transform .2s ease}
    .bulk-card:hover{transform:translateY(-2px)}
    .bulk-card h3{font-size:1.1rem;margin:0 0 .5rem;color:var(--text)}
    .bulk-meta{display:flex;flex-wrap:wrap;gap:.75rem;font-size:.9rem;color:var(--text-secondary)}
    .bulk-progress{height:.45rem;border-radius:1rem;background:var(--surface-2);overflow:hidden;margin:.75rem 0 1rem}
    .bulk-progress-bar{height:100%;background:linear-gradient(90deg,var(--brand),var(--accent))}
    .bulk-actions{display:flex;flex-wrap:wrap;gap:.5rem}
    .auto-refresh-note{font-size:.85rem;color:var(--text-muted)}
    .status-pill{display:inline-flex;align-items:center;padding:.25rem .7rem;border-radius:999px;font-size:.72rem;border:1px solid var(--divider);background:var(--surface-2);color:var(--text-secondary);letter-spacing:.08em;text-transform:uppercase}
    .text-soft{color:var(--text-muted)}
    .instance-queues{display:flex;flex-wrap:wrap;gap:.75rem;margin-bottom:1.5rem}
    .instance-queue-card{flex:1 1 220px;padding:1rem;border-radius:.85rem;border:1px solid var(--border);background:var(--surface-1);color:var(--text);box-shadow:0 12px 28px rgba(0,0,0,0.24)}
    .instance-queue-card h3{margin:0 0 .4rem;font-size:.95rem;color:var(--text)}
    .instance-queue-meta{font-size:.85rem;color:var(--text-muted);line-height:1.4}

block content
  .container.py-4
    .d-flex.justify-content-between.align-items-start.mb-3
      div
        h1.h4.mb-1 Bulk Prompt Experiments
        p.auto-refresh-note.mb-0 Updated every minute, or refresh manually.
      a.btn.btn-primary(href="/image_gen/bulk/new") Create new job
    #instanceQueues.instance-queues
      .text-soft Loading instance queuesâ€¦
    .d-flex.align-items-center.gap-2.mb-3
      button#refreshBtn.btn.btn-outline-secondary.btn-sm(type="button") Refresh now
      span#refreshStatus.auto-refresh-note
    #jobList

block script
  script(src="/js/image_gen_bulk_index.js")

