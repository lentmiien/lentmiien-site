extends layout

block content
  h1 Chat Room
  h3#title
  ul#messages
  form#message-form
    textarea#message.form-control(name="message", rows="7", placeholder="Type your message here...", required)
    .input-group
      select#model.form-control(name="model", onchange="UpdateModel(this)")
        option(value="gpt-4o-mini") gpt-4o-mini
        option(value="gpt-4o") gpt-4o
        option(value="o1-mini") o1-mini
        option(value="o1-preview") o1-preview
      button.btn.btn-primary(type="submit") Send
      button.btn.btn-secondary(type="button", onclick="OpenSettings()") Settings
  #settings.popup-wrapper 
    .popup-content
      form#settings-form
        label(for="context") Set a context/system message (*Not supported/ignored for "o1" models)
        textarea#context.form-control(name="context", rows="7", placeholder="Type your context here...")
        label(for="category") Conversation category
        input#category.form-control(type="text", name="category", value="Chat5")
        label(for="tags") Conversation tags (*Comma-separated string)
        input#tags.form-control(type="text", name="tags", value="chat5")
        button.btn.btn-primary(type="submit") Update/Close
  hr
  button.btn.btn-primary(onclick="StartVoiceMode(this)") Start Voice Mode
  #transcript
  pre#voice_out.hidden
  script(src="https://cdn.socket.io/4.0.0/socket.io.min.js")
  script(src="https://cdn.jsdelivr.net/npm/marked/marked.min.js")
  script(src="/js/chat5.js")