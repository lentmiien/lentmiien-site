In `views/chat5_chat.pug` when displaying conversation history, I want to collapse all messages that has `hideFromBot` set to true, I want the collapse to be very slim and take up little space, but can be expanded with one click, also, if multiple messages in a row has `hideFromBot` set to true, they should be collapsed together, in only one collapse.
Next, all conversations should have a `metadata.maxMessages` integer value, so for all messages with `hideFromBot` set to false, I want to display a maximum of 25 messages, or `metadata.maxMessages`, whichever value is lower, and just collapse all older messages, in 25 messages chunks. When forming the 25 messages chunks, count `hideFromBot` set to true as 0 messages, and collapse these as previously described, so `hideFromBot` set to true will be double collapsed, once for being in a 25 messages chunk, and once for `hideFromBot` being set to true.
If `metadata.maxMessages` is lower than 25, this will only have affect for how many messages that are visible by default, the collapsed message chunks will still be 25 messages per chunk.
Also, on these 25 messages chunks, display the `timestamp` range on the messages in the chunk, build this range from the `timestamp` value that exist on all messages.

codex resume 019aebfe-8f88-7412-b7d9-a1eaff008499