In the database `models/transaction_db.js`, I previously inputted `categories` in the format `category1_id@xx|category2_id@yy`, where '|' separate multiple categories, and where 'xx' and 'yy' represent the percentage value of the transaction amount that belong to each category. However, recently I've simplified this to `categories` only include one category id. So, `categories` can no longer have multiple categories, and the "@xx"/"@yy" part should no longer be there.
In my setup script (setup.js), please help me add code that help me clean up the database as following:
1. if the current database entry is already in the new format, do nothing
2. if the current database entry only has 1 category value, with "@100", delete the "@100" part and resave the entry
3. if the current database entry has multiple categories, keep only the category value with the highest "@xx" value, remove the "@xx" part and resave the entry